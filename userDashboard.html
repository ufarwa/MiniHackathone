<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Dancing+Script">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body class="bg-info text-light">
    <nav class="col d-flex justify-content-around text-info bg-light">
        <h1><a href="#" class="text-decoration-none text-info">Attendance App</a></h1>
        <a href="./index.html" id="Logout" class="text-decoration-none text-info mt-3">Logout</a>
    </nav>

<div class="container mt-5">
    <h1 class="mb-4">User Dashboard</h1>

    <!-- Student Details -->
    <div class="card mb-4">
        <div class="card-header">
            Student Details
        </div>
        <div class="card-body">
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="studentName" class="form-label">Student Name</label>
                    <input type="text" class="form-control" id="studentName" placeholder="Enter student name">
                </div>
                <div class="col-md-6">
                    <label for="rollNumber" class="form-label">Roll Number</label>
                    <input type="text" class="form-control" id="rollNumber" placeholder="Enter roll number">
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <label for="teacherName" class="form-label">Teacher Name</label>
                    <input type="text" class="form-control" id="teacherName" placeholder="Enter teacher name">
                </div>
            </div>
        </div>
    </div>

    <!-- Attendance Marking -->
    <div class="card">
        <div class="card-header">
            Mark Attendance
        </div>
        <div class="card-body">
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="attendanceStatus" class="form-label">Attendance Status</label>
                    <select class="form-select" id="attendanceStatus">
                        <option value="present">Present</option>
                        <option value="absent">Absent</option>
                        <option value="late">Late</option>
                        <option value="leave">Leave</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <label for="attendanceTime" class="form-label">Attendance Time</label>
                    <input type="text" class="form-control" id="attendanceTime" placeholder="Enter attendance time">
                </div>
            </div>
            <div class="mt-3">
                <button class="btn btn-primary">Mark Attendance</button>
            </div>
        </div>
    </div>
</div>

<SCript>
    const attendanceStatusSelect = document.getElementById('attendanceStatus');
        const attendanceTimeInput = document.getElementById('attendanceTime');
        const markAttendanceButton = document.querySelector('.btn-primary');

        // Simulate class start time (in minutes, for testing)
        const classStartTime = 9 * 60; // 9:00 AM

        markAttendanceButton.addEventListener('click', () => {
            const currentTime = new Date();
            const currentMinutes = currentTime.getHours() * 60 + currentTime.getMinutes();

            // Calculate the time difference in minutes
            const timeDifference = currentMinutes - classStartTime;

            // Get the selected attendance status
            const selectedStatus = attendanceStatusSelect.value;

            // Check if the student is trying to change the status after 10 minutes
            if (timeDifference > 10 && selectedStatus === 'late') {
                const adminPassword = prompt('This student is marked as Late. Enter admin password to change status:');
                // Check if the admin password is correct (you should implement this logic)
                if (isAdminPasswordValid(adminPassword)) {
                    // Allow changing status to Late
                    alert('Attendance status changed to Late.');
                } else {
                    alert('Admin password is incorrect. Cannot change status to Late.');
                }
            } else {
                // Student is not changing to Late after 10 minutes, or other statuses
                alert(`Attendance marked as ${selectedStatus}.`);
            }

            // Clear the attendance time input
            attendanceTimeInput.value = '';
        });

        // You should implement this function to validate the admin password
        function isAdminPasswordValid(password) {
            // Implement your logic to validate the admin password here
            // For simplicity, you can hardcode a password check for testing
            const adminPassword = 'your_admin_password';
            return password === adminPassword;
        }
</SCript>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>
